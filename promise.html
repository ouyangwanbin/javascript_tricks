<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<script type="text/javascript">
/*
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function( ) {
        if (this.readyState == 4 && this.status == 200) {
            console.log( JSON.parse(this.responseText ));
        }
    }
    xhttp.open('GET', 'tweets.json', true);
    xhttp.send();
*/


var fetchURL = function(URL) {
    return new Promise(function(resolve, reject) {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                resolve(JSON.parse(this.responseText));
            }
        }
        xhttp.open('GET', URL, true);
        xhttp.send();
    });
}


Promise.all([fetchURL('tweets.json'),fetchURL('friends.json')]).then(function(result){
    console.log( result[0] );
    console.log( result[1] );
});
/*
fetchURL('tweets.json').then(function( tweets ){
    return fetchURL('friends.json');
}).then(function( friends ){
    console.log( friends );
})
*/

</script>

</html>
