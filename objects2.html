<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
</body>
<script type="text/javascript">

var proto = {
	say : function( ){
		alert( "My name is : " + this.name );
		alert( "I am " + this.age + " years old" );
	}
}

var Person = function( name , age ){
	return Object.create( proto, {
		name:{
			value:name
		},
		age:{
			value:age
		}
	} );
}

var Student = function( name , age , score ){
	var person  = Person.call( this , name , age );
	return Object.create( person, {
		score:{
			value:score,
			enumerable:true
		}
	} );
}

var stu = new Student("wanbin","20",100);

var copy =  function( origin ){
	// 1. copy has same prototype as orig
	var cp = Object.create(Object.getPrototypeOf( origin ));
	// 2. copy has all of origâ€™s properties
    return copyOwnPropertiesFrom(cp, origin);

}

function copyOwnPropertiesFrom(target, source) {
    Object.getOwnPropertyNames(source)  // (1)
    .forEach(function(propKey) {  // (2)
        var desc = Object.getOwnPropertyDescriptor(source, propKey); // (3)
        Object.defineProperty(target, propKey, desc);  // (4)
    });
    return target;
};

console.log( copy( stu ) );






</script>

</html>
